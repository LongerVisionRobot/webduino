<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>LED on/off</title>
  <style>
  html,
  body,
  #light {
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
  }
  
  img {
    height: 80%;
  }
  
  .off img:last-child,
  .on img:first-child {
    display: none;
  }
  </style>
  <script src="../../webcomponentsjs/webcomponents.js"></script>
  <link rel='import' href='../web-arduino.html'></link>
  <link rel='import' href='../wa-led.html'></link>
  <link rel='import' href='../wa-irled.html'></link>
  <script>
  window.addEventListener('WebComponentsReady', function() {
    var board = document.getElementById('board');

    board.on('ready', function() {
      var led = document.getElementById('led');
      var irled = document.getElementById('irled');
      var light = document.getElementById('light');

      light.className = 'off';
      light.addEventListener('click', function() {
        if (led.state == 'on') {
          this.className = 'off';
          led.off();
        } else {
          this.className = 'on';
          led.on();
          irled.send();
        }
      }, false);
    });

  }, false);
  </script>
</head>

<body>
  <web-arduino id='board' device='3kNG'>
    <wa-led id='led' pin='10' state="off"></wa-led>
    <wa-irled id='irled' initsend="false" encode='20df10ef'></wa-irled>
  </web-arduino>
  <div id='light' class="off">
    <img src='http://i.imgur.com/i0CHoAt.jpg'></img>
    <img src='http://i.imgur.com/rhEBE6x.jpg'></img>
  </div>
</body>

</html>
